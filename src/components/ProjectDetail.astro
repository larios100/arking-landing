---
const { entry } = Astro.props;
const { slug } = entry;
const { Content } = await entry.render();
const { title, image, price, specifications, images, features, address, location } = entry.data;
const { lat, lng } = location;
---

<div class="min-h-screen bg-white">
    <header
        class="sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60"
    >
        <div class="container mx-auto flex h-16 items-center justify-between px-4 md:px-6">
            <a href="/" class="text-black inline-flex items-center gap-3">
                <img src="/logo-simple.png" alt="Arking" class="w-10 h-10" />
                <span class="font-bold font-display text-sky-900">Arking</span>
            </a><a href="/"
                ><button
                    class="ring-offset-background focus-visible:outline-hidden focus-visible:ring-ring justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 flex items-center space-x-2"
                    ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-arrow-left h-4 w-4"
                        ><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg
                    ><span>Volver al Inicio</span></button
                ></a
            >
        </div>
    </header>
    <section class="py-8 md:py-12" data-aos="fade-up">
        <div class="container mx-auto px-4 md:px-6">
            <div class="grid gap-6 lg:grid-cols-2 lg:gap-12">
                <div class="space-y-4">
                    <div class="flex items-center space-x-2">
                        <!--<div
                            class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-primary-foreground hover:bg-primary/80 bg-gray-600"
                            data-v0-t="badge"
                        >
                            Vendido
                        </div> -->
                    </div><h1 class="text-3xl font-bold tracking-tighter sm:text-4xl text-gray-900">
                        {title}
                    </h1><div class="flex items-center space-x-2 text-gray-600">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-map-pin h-5 w-5"
                            ><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path><circle
                                cx="12"
                                cy="10"
                                r="3"></circle></svg
                        ><span class="text-lg">{specifications.location}</span>
                    </div><div class="text-3xl font-bold text-blue-600">{price}</div><p
                        class="text-gray-600 md:text-lg"
                    >
                        <Content />
                    </p>
                </div><div class="flex items-center justify-center">
                    <img
                        alt={title}
                        loading="lazy"
                        width="600"
                        height="400"
                        decoding="async"
                        data-nimg="1"
                        class="aspect-video overflow-hidden rounded-xl object-cover shadow-lg"
                        src={image}
                        style="color: transparent;"
                    />
                </div>
            </div>
        </div>
    </section><section class="py-8 md:py-12 bg-gray-50" data-aos="fade-up">
        <div class="container mx-auto px-4 md:px-6">
            <h2 class="text-2xl font-bold mb-8 text-gray-900">Especificaciones</h2><div
                class="grid gap-6 md:grid-cols-2 lg:grid-cols-4"
            >
                <div
                    class="rounded-lg border bg-card text-card-foreground shadow-2xs"
                    data-v0-t="card"
                >
                    <div class="p-6 flex flex-row items-center space-y-0 pb-2">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-home h-5 w-5 text-blue-600"
                            ><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                            ></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg
                        ><h3 class="tracking-tight ml-2 text-sm font-medium">Plantas</h3>
                    </div><div class="p-6 pt-0">
                        <div class="text-2xl font-bold">{specifications.floors}</div>
                    </div>
                </div><div
                    class="rounded-lg border bg-card text-card-foreground shadow-2xs"
                    data-v0-t="card"
                >
                    <div class="p-6 flex flex-row items-center space-y-0 pb-2">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-bed h-5 w-5 text-blue-600"
                            ><path d="M2 4v16"></path><path d="M2 8h18a2 2 0 0 1 2 2v10"
                            ></path><path d="M2 17h20"></path><path d="M6 8v9"></path></svg
                        ><h3 class="tracking-tight ml-2 text-sm font-medium">Recámaras</h3>
                    </div><div class="p-6 pt-0">
                        <div class="text-2xl font-bold">{specifications.bedrooms}</div>
                    </div>
                </div><div
                    class="rounded-lg border bg-card text-card-foreground shadow-2xs"
                    data-v0-t="card"
                >
                    <div class="p-6 flex flex-row items-center space-y-0 pb-2">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-bath h-5 w-5 text-blue-600"
                            ><path
                                d="M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5"
                            ></path><line x1="10" x2="8" y1="5" y2="7"></line><line
                                x1="2"
                                x2="22"
                                y1="12"
                                y2="12"></line><line x1="7" x2="7" y1="19" y2="21"></line><line
                                x1="17"
                                x2="17"
                                y1="19"
                                y2="21"></line></svg
                        ><h3 class="tracking-tight ml-2 text-sm font-medium">Baños</h3>
                    </div><div class="p-6 pt-0">
                        <div class="text-2xl font-bold">{specifications.bathrooms}</div>
                    </div>
                </div><div
                    class="rounded-lg border bg-card text-card-foreground shadow-2xs"
                    data-v0-t="card"
                >
                    <div class="p-6 flex flex-row items-center space-y-0 pb-2">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-car h-5 w-5 text-blue-600"
                            ><path
                                d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"
                            ></path><circle cx="7" cy="17" r="2"></circle><path d="M9 17h6"
                            ></path><circle cx="17" cy="17" r="2"></circle></svg
                        ><h3 class="tracking-tight ml-2 text-sm font-medium">Estacionamiento</h3>
                    </div><div class="p-6 pt-0">
                        <div class="text-2xl font-bold">{specifications.parking}</div>
                    </div>
                </div>
            </div><div class="grid gap-6 md:grid-cols-3 mt-6">
                <div
                    class="rounded-lg border bg-card text-card-foreground shadow-2xs"
                    data-v0-t="card"
                >
                    <div class="p-6 flex flex-row items-center space-y-0 pb-2">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-ruler h-5 w-5 text-blue-600"
                            ><path
                                d="M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"
                            ></path><path d="m14.5 12.5 2-2"></path><path d="m11.5 9.5 2-2"
                            ></path><path d="m8.5 6.5 2-2"></path><path d="m17.5 15.5 2-2"
                            ></path></svg
                        ><h3 class="tracking-tight ml-2 text-sm font-medium">Terreno</h3>
                    </div><div class="p-6 pt-0">
                        <div class="text-2xl font-bold">{specifications.area}</div>
                    </div>
                </div><div
                    class="rounded-lg border bg-card text-card-foreground shadow-2xs"
                    data-v0-t="card"
                >
                    <div class="p-6 flex flex-row items-center space-y-0 pb-2">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-building2 h-5 w-5 text-blue-600"
                            ><path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"></path><path
                                d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"></path><path
                                d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"></path><path
                                d="M10 6h4"></path><path d="M10 10h4"></path><path d="M10 14h4"
                            ></path><path d="M10 18h4"></path></svg
                        ><h3 class="tracking-tight ml-2 text-sm font-medium">Construcción</h3>
                    </div><div class="p-6 pt-0">
                        <div class="text-2xl font-bold">{specifications.construction}</div>
                    </div>
                </div><div
                    class="rounded-lg border bg-card text-card-foreground shadow-2xs"
                    data-v0-t="card"
                >
                    <div class="p-6 flex flex-row items-center space-y-0 pb-2">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-calendar h-5 w-5 text-blue-600"
                            ><path d="M8 2v4"></path><path d="M16 2v4"></path><rect
                                width="18"
                                height="18"
                                x="3"
                                y="4"
                                rx="2"></rect><path d="M3 10h18"></path></svg
                        ><h3 class="tracking-tight ml-2 text-sm font-medium">Entrega</h3>
                    </div><div class="p-6 pt-0">
                        <div class="text-2xl font-bold">Entregado</div>
                    </div>
                </div>
            </div>
        </div>
    </section><section class="py-8 md:py-12" data-aos="fade-up">
        <div class="container mx-auto px-4 md:px-6">
            <h2 class="text-2xl font-bold mb-8 text-gray-900">Características</h2><div
                class="grid gap-4 md:grid-cols-2"
            >
                {
                    features.map((feature: string, index: number) => (
                        <div class="flex items-center space-x-3">
                            <>
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="lucide lucide-circle-check-big h-5 w-5 text-green-600 flex-shrink-0"
                                >
                                    <>
                                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
                                        <path d="m9 11 3 3L22 4" />
                                    </>
                                </svg>
                                <span class="text-gray-700">{feature}</span>
                            </>
                        </div>
                    ))
                }
            </div>
        </div>
    </section><section class="py-8 md:py-12 bg-gray-50" data-aos="fade-up">
        <div class="container mx-auto px-4 md:px-6">
            <h2 class="text-2xl font-bold mb-8 text-gray-900">Galería de Fotos</h2><div
                class="grid gap-4 md:grid-cols-2 lg:grid-cols-3"
            >
                {
                    images.map((image: string, index: number) => (
                        <div class="aspect-video overflow-hidden rounded-lg">
                            <img
                                alt={`Villa Ejecutiva - Foto ${index + 1}`}
                                loading="lazy"
                                width="400"
                                height="300"
                                decoding="async"
                                data-nimg="1"
                                class="object-cover w-full h-full hover:scale-105 transition-transform cursor-pointer"
                                src={image}
                                style="color: transparent;"
                            />
                        </div>
                    ))
                }
            </div>
        </div>
    </section>
</div><section class="py-8 md:py-12 bg-gray-50" data-aos="fade-up">
    <div class="container mx-auto px-4 md:px-6">
        <h2 class="text-2xl font-bold mb-8 text-gray-900">Ubicación</h2><div
            class="grid lg:grid-cols-2 gap-8 items-start"
        >
            <div class="space-y-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Dirección</h3><div
                        class="flex items-start space-x-3"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-map-pin h-5 w-5 text-blue-600 mt-1 flex-shrink-0"
                            ><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path><circle
                                cx="12"
                                cy="10"
                                r="3"></circle></svg
                        ><div>
                            <p class="text-gray-700 leading-relaxed">
                                {address}
                            </p>
                        </div>
                    </div>
                </div><div class="bg-white p-6 rounded-2xl shadow-sm">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Zona</h3><p
                        class="text-gray-700"
                    >
                        Lomas Altas
                    </p>
                </div><div class="bg-white p-6 rounded-2xl shadow-sm">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Accesos</h3><ul
                        class="space-y-2 text-gray-700"
                    >
                        <li class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-blue-600 rounded-full"></div><span
                                >Fácil acceso a vías principales</span
                            >
                        </li><li class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-blue-600 rounded-full"></div><span
                                >Transporte público cercano</span
                            >
                        </li><li class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-blue-600 rounded-full"></div><span
                                >Centros comerciales a 5 min</span
                            >
                        </li><li class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-blue-600 rounded-full"></div><span
                                >Escuelas y hospitales cercanos</span
                            >
                        </li>
                    </ul>
                </div>
                <!--<button
                    class="ring-offset-background focus-visible:outline-hidden focus-visible:ring-ring inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-10 px-4 w-full bg-blue-600 hover:bg-blue-700 text-white py-3 font-medium"
                    >Abrir en Google Maps<svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-arrow-right ml-2 h-4 w-4"
                        ><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg
                    ></button
                > -->
            </div><div class="bg-white rounded-2xl shadow-sm overflow-hidden">
                <div class="aspect-video">
                    <div
                        id="map"
                        data-lat={lat}
                        data-lng={lng}
                        data-title={title}
                        style="height: 500px;"
                    >
                    </div>
                </div>
            </div>
        </div>
    </div>
</section><section class="py-12 md:py-16 bg-blue-600">
    <div class="container mx-auto px-4 md:px-6">
        <div class="flex flex-col items-center justify-center space-y-4 text-center text-white">
            <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl">
                ¿Interesado en este proyecto?
            </h2><p class="max-w-[600px] md:text-xl opacity-90">
                Contáctanos para más información, agendar una visita o solicitar una cotización
                personalizada.
            </p><div class="flex flex-col gap-2 min-[400px]:flex-row">
                <button
                    class="ring-offset-background focus-visible:outline-hidden focus-visible:ring-ring inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 rounded-md h-12 px-8 bg-white text-blue-600 hover:bg-gray-100"
                    >Solicitar Información</button
                ><button
                    class="ring-offset-background focus-visible:outline-hidden focus-visible:ring-ring inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border rounded-md h-12 px-8 border-white text-white hover:bg-white hover:text-blue-600 bg-transparent"
                    >Agendar Visita</button
                >
            </div>
        </div>
    </div>
</section>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" defer></script>
<script type="module">
    const mapa = document.getElementById('map');
    const lat = parseFloat(mapa.dataset.lat);
    const lng = parseFloat(mapa.dataset.lng);
    const title = mapa.dataset.title;
    window.addEventListener('load', () => {
        const map = L.map('map').setView([lat, lng], 15);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {}).addTo(map);

        L.marker([lat, lng]).addTo(map).bindPopup(title).openPopup();
    });
</script>
